server {
        listen 443 ssl;
        listen [::]:443 ssl ipv6only=on;

        server_name .time-river.xyz;
	
	charset	utf-8;
	
	access_log	/home/nginx/log/https/time-river.access.log main buffer=32k;
	error_log	/home/nginx/log/https/time-river.error.log  warn;

        #ssl
        ssl    on;
        ssl_certificate        /etc/ssl/private/time-river_xyz.signed.crt;
        ssl_certificate_key    /etc/ssl/private/time-river_xyz.key;
        #Diffie-Hellman key exchange
        ssl_prefer_server_ciphers on;
        ssl_dhparam 	       /etc/ssl/certs/dhparam.pem;
        ssl_protocols TLSv1 TLSv1.1 TLSv1.2;
        ssl_ciphers "ECDHE-RSA-AES256-GCM-SHA384:ECDHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384:DHE-RSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-SHA384:ECDHE-RSA-AES128-SHA256:ECDHE-RSA-AES256-SHA:ECDHE-RSA-AES128-SHA:DHE-RSA-AES256-SHA256:DHE-RSA-AES128-SHA256:DHE-RSA-AES256-SHA:DHE-RSA-AES128-SHA:ECDHE-RSA-DES-CBC3-SHA:EDH-RSA-DES-CBC3-SHA:AES256-GCM-SHA384:AES128-GCM-SHA256:AES256-SHA256:AES128-SHA256:AES256-SHA:AES128-SHA:DES-CBC3-SHA:HIGH:!aNULL:!eNULL:!EXPORT:!DES:!MD5:!PSK:!RC4";
        keepalive_timeout 70;
        ssl_session_cache shared:SSL:10m;
        ssl_session_timeout 10m; 
        #forced to use ssl
        add_header Strict-Transport-Security max-age=63072000;
        add_header X-Frame-Options DENY;
        add_header X-Content-Type-Options nosniff;

        location / {
            root   /home/nginx/html;
            index  index.html index.htm;
        }
        #django blog
        #include /etc/nginx/conf.d/blog.conf;

        error_page   500 502 503 504  /50x.html;
        location = /50x.html {
            root   /home/nginx/html;
        }
}
